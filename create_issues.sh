#!/bin/bash

# 1. 초기 설정 및 환경 구축
gh issue create --title "[Set up] 초기 설정 및 환경 구축" --body "**작업 배경**
프로젝트 개발을 시작하기 위한 기본 디렉토리 구조와 벡터 데이터베이스 환경을 구축해야 합니다.

**작업 내용**
- 프로젝트 디렉토리 및 Python 환경 설정
- ChromaDB 로컬 설치 및 연결 테스트

**인수 조건**
- [ ] GitHub 저장소 및 `.gitignore` 설정 완료
- [ ] `requirements.txt` 작성 및 가상환경 구성 완료
- [ ] `docs/`, `data/`, `pipeline/`, `rag/`, `app/` 디렉토리 구조 생성
- [ ] ChromaDB 설치 및 간단한 벡터 저장/검색 테스트 성공"

# 2. 데이터 파이프라인 (ETL) 구현
gh issue create --title "[ETL] 데이터 파이프라인 구현" --body "**작업 배경**
법률 데이터를 수집하여 챗봇 시스템에 적재하는 파이프라인이 필요합니다.

**작업 내용**
- 법령 API 수집기 구현
- 데이터 정규화 및 벡터 인덱싱 스크립트 작성

**인수 조건**
- [ ] **데이터 수집**: API 연동 및 Raw JSON 저장 (`ingest_api.py`) 완료
- [ ] **정규화**: JSON 데이터 파싱 및 저장 (`normalize.py`) 완료
- [ ] **벡터 인덱싱**: 청킹, 메타데이터 부착, 임베딩 후 ChromaDB 적재 (`index_docs.py`) 완료"

# 3. 검색(RAG) 엔진 구현
gh issue create --title "[RAG] 검색 엔진 구현" --body "**작업 배경**
사용자 질문에 대해 정밀한 벡터 검색을 수행하는 RAG 엔진을 구축해야 합니다.

**작업 내용**
- 벡터 검색(유사도+필터링) 및 Reranking 로직 구현
- LLM 연동 및 응답 생성

**인수 조건**
- [ ] **Vector Retrieval**: Chroma 유사도 검색 및 메타데이터 필터링 구현 완료
- [ ] **Reranking**: 검색 결과 재순위화 로직 구현 완료
- [ ] **생성 모듈**: Ollama 연동 및 인용 형식을 강제하는 프롬프트 작성 완료"

# 4. UI 및 평가
gh issue create --title "[UI/Eval] 웹 인터페이스 및 평가" --body "**작업 배경**
일반 사용자도 쉽게 접근하여 사용할 수 있는 친절한 웹 UI를 만들고, 답변 품질을 평가해야 합니다.

**작업 내용**
- 사용자 친화적인 Streamlit 채팅 인터페이스 구현
- 답변 품질(정확성, 친절함) 평가

**인수 조건**
- [ ] **웹 인터페이스**: 누구나 쉽게 쓰는 직관적인 채팅창 구현 완료
- [ ] **가이드 제공**: 예시 질문 등을 포함한 도움말 구현 완료
- [ ] **출처 시각화**: 일반인도 확인 가능한 근거 자료 패널 구현 완료
- [ ] **평가 수행**: 테스트 셋 10개 준비 및 Hit@K 측정 완료"

# 5. 확장 기능
gh issue create --title "[Extended] 확장 기능 (Phase 2)" --body "**작업 배경**
MVP 이후 검색 품질을 높이기 위한 추가 기능을 구현합니다.

**작업 내용**
- 키워드 하이브리드 검색 및 심화 평가

**인수 조건**
- [ ] BM25 등 키워드 검색 추가
- [ ] Ragas 등을 활용한 심화 평가 수행"
